"use strict";angular.module("storkApp",["ngAnimate","ngRoute"]).config(["$routeProvider",function(a){a.when("/intro",{templateUrl:"views/intro.html"}).when("/explore",{templateUrl:"views/explore.html",controller:"ExploreCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("storkApp").controller("ExploreCtrl",["$scope","$timeout","commandsFact",function(a,b,c){var d=function(c){a.response=c.msg,a.resultClass=c.cssClass,console.log(c.cssClass),c.revert?b(function(){a.resultClass="",a.response=f},2e3):a.message=""};a.explore=function(a){a=a.toLowerCase();var b=a.split(" "),f=b[0];if(c[f])var g=c[f](b.splice(1));else var g=c._invalid(e);d(g)};var e=Object.keys(c).splice(1),f="Please enter a command, to continue...";(function(){var b="Your adventure starts here";a.resultClass="",a.validRegex="/^"+Object.keys(c).join("|")+"/",a.response=b})()}]),angular.module("storkApp").factory("commandsFact",["itemsFact",function(a){var b=function(a,b,c){var d={msg:a.join(" "),cssClass:b,revert:c||!1};return d};return{_invalid:function(a){var c="("+a.join(",")+")",d=["Alas you can't do that in this version of Stork, butter to try -",c];return b(d,"Invalid",!0)},say:function(a){var c='"'+a.join(" ")+'"',d=[c,"says you."];return b(d,"Say",!1)},look:function(c){var d=c.pop(),e="Default";if(a[d]){var f=[a[d].desc]||["Yup, that's definitely a",d,"or should that be an",d];e="Look"}else var g=Object.keys(a).join(" or "),f=["There isn't a",d,"in sight, try looking at -",g];return b(f,e,!1)}}}]),angular.module("storkApp").factory("itemsFact",[function(){return{me:{desc:"It's you, that's who!"},room:{desc:"It's a large intimidating room, you feel as if you're being watched"}}}]),angular.module("storkApp").directive("oInput",["$timeout",function(a){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},compile:function(b,c){return{pre:function(a,b,c){var d=["Icn"],e=b.wrap("<div class='o-input'></div>").parent().addClass("Pristine");"false"!==c.icons&&(c.disabled&&d.push("Disabled"),e.addClass(d.join(" ")).append("<div class='icn Blank'><i class='fa'></i></div>"))},post:function(b,c,d,e){var f=c.parent(),g=["removeClass","addClass"],h={},i=function(b){b||f[g[0]]("Pristine"),a(function(){e.$valid!==h.valid&&(f[g[Number(e.$valid)]]("Valid")[g[Number(!e.$valid)]]("Invalid"),h.valid=e.$valid)})};c.bind("focus",function(a){f.addClass("Focus")}).bind("blur",function(a){f.removeClass("Focus")}),e.$viewChangeListeners.push(i),i(!0)}}}}}]);